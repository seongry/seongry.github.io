{"componentChunkName":"component---src-templates-blog-post-js","path":"/2021/08-09-functional-ish-javascript/","result":{"data":{"site":{"siteMetadata":{"title":"코알 데브 로그","author":"SeongRyeong Kim"}},"markdownRemark":{"id":"bb8fd831-184d-50c3-9c86-1d385e068a56","excerpt":"원문 번역하기 난해한 부분은 생략하거나 의역한 부분도 있을 수 있습니다 😅 제가 번역하는 모든 글은 원작자의 허락 하에 업로드 됩니다 🕺💃 8월에 포스팅 처음 알게되고 가볍게 읽어볼겸 번역 시작했다가, FP…","html":"<p><a href=\"https://bluepnume.medium.com/functional-ish-javascript-205c05d0ed08\">원문</a></p>\n<p>번역하기 난해한 부분은 생략하거나 의역한 부분도 있을 수 있습니다 😅</p>\n<p>제가 번역하는 모든 글은 원작자의 허락 하에 업로드 됩니다 🕺💃</p>\n<p>8월에 포스팅 처음 알게되고 가볍게 읽어볼겸 번역 시작했다가, FP에 무지한 상태로 번역을 하니 잘 와닿지 않아서 결국엔 놔버렸는데…\n최근에 다시 FP에 관심이 생겨서 책도 보고 했더니 이 글이 예전보다 잘 이해가 되어서 12월에 마무리를 짓습니다 😂</p>\n<hr>\n<p>함수형 프로그래밍은 자바스크립트를 작성할 때 배우고 적용할 수 있는 훌륭한 학문입니다. 무상태의(stateless), 멱등성의(idempotent), 부수효과가 없는(side-effect free) 코드를 작성하면 실제로 많은 문제가 해결됩니다:</p>\n<ul>\n<li>테스트하기 쉬워짐</li>\n<li>디버깅하기 쉬워짐</li>\n<li>이슈를 재현하기 쉬워짐</li>\n</ul>\n<p>하지만 커뮤니티에서는 함수형 프로그래밍은 모아니면 도라는 인식이 커지고 있습니다. 흔히 이런 말들을 듣습니다:</p>\n<blockquote>\n<p>제 전체 코드베이스/앱은 스테이트풀(stateful)하고 부수효과로 가득해요. 근데 왜 굳이 함수형으로 만들어야 하나요?</p>\n</blockquote>\n<blockquote>\n<p>저는 펑터(functors)나 모나드(monads), 커링(currying)이 뭔지(<em>역주: 함수형 프로그래밍의 기초 개념들입니다.</em>) 배울 시간이 없어요. 언젠가 할거긴 한데, 그때가서 함수형 코드들을 짤 것 같아요.</p>\n</blockquote>\n<blockquote>\n<p>저는 클래스 기반이나 객체 지향 코드가 좋아요. 그래서 함수형 코드는 저랑 안 맞는거 같아요.</p>\n</blockquote>\n<p>하지만 함수형 프로그래밍은 모 아니면 도일 필요가 없습니다. 필자의 생각엔 좀 더 실용적이게 되는것이 좋을 것 같아요. 즉 말하자면, 다른 할일이 없으면 <strong>함수형-스러운(functional-ish)</strong> 코드를 작성해 보세요.</p>\n<p>이게 무슨 의미 일까요? 필자는 요점을 설명하기 위한 일련의 법칙들을 생각해냈습니다.</p>\n<h1>순수하지 못하더라도 예측가능하도록 하세요</h1>\n<p>함수는 부수효과가 없을 경우 기능적으로 “순수”하다고 합니다. 순수 함수는 일련의 입력을 받고, 해당 입력을 기반으로 정확하고 확실하게 출력을 제공합니다. 다른 이펙트가 없고, 직접 입력한 입력외에는 다른 상태를 사용하지 않고, 입력값을 수정하지 않으며, 주어진 입력에 대해 출력은 항상 동일합니다.</p>\n<p>가능한 순수함수를 작성하는 것이 좋습니다. 순수 함수는 테스트하기 쉽고, 문서화하기 쉽고, 리펙터링하기 쉽습니다.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7a5f349506b019015b6833eb5b77f24f/f4b77/functional-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVQY02P4CwZ//vz5////+YuXV67fsm7jzs0bdmzdumvrNgTasnXn7j37v3799v//P6BiiC4GCPXr5y+g5oLcEldl9XAvUx1PIzlFbVl5bVkFECmnoCMlo6Gla/Ho0ROgst+/f6Nq/gXSXFxcpaOkZWttqWNhrqFtqqFhqq5uoqFlqqllpqpuZGru+Pgxbs0FRZXqSsbWxq4murbG+rZ6NtZmTk4aOqb6ptYGRjZAzY/waC4sqlSS17UycXIx93Qx87R2cLVycDUzczS3cdbWNSekubhKSc1AW89CX8/KQM9aT8dSS9tcV89K39BGRc0Qp7N/ggMsO6dESERBQUlPWk4TiGTktGTktYAkMMxAAaaDI8AgUXXh4uUNG7Zs274bOZLwRBUALKwscePcIJUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"pure-function\"\n        title=\"\"\n        src=\"/static/7a5f349506b019015b6833eb5b77f24f/fcda8/functional-1.png\"\n        srcset=\"/static/7a5f349506b019015b6833eb5b77f24f/12f09/functional-1.png 148w,\n/static/7a5f349506b019015b6833eb5b77f24f/e4a3f/functional-1.png 295w,\n/static/7a5f349506b019015b6833eb5b77f24f/fcda8/functional-1.png 590w,\n/static/7a5f349506b019015b6833eb5b77f24f/f4b77/functional-1.png 770w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>그런데 만약 당신의 함수가 순수 할 수 없다면(실제로 시간이 많이 걸려서) 첫번째로 당신이 해야할 일은 예측가능하게 만드는 것입니다:</p>\n<ul>\n<li>함수가 특정 부수효과를 트리거해야하는 경우, 동일한 입력이 주어질땐 해당 효과들이 항상 동일해야합니다. 서로 다른 입력이 서로 다른 부수효과를 트리거한다면, 그러한 효과들은 굉장히 예측 가능해야합니다.</li>\n<li>함수가 다른 스코프(클로저 스코프나, 모듈 스코프 혹은 글로벌 스코프처럼)의 데이터나 상태를 소비해야 하는 경우, 앱의 미래 상태를 기반으로 시간이 지남에 따라 상태가 변경되거나 완전히 존재하지 않도록 복원해야 합니다.</li>\n<li>함수는 전달된 파라메터가 객체나 배열같은 가변 데이터 구조일지라도 거의 변경하지 않아야 합니다. 이 규칙의 예외는 특정 목적을 가진 함수가 객체를 예측가능한 방식으로 변경하는 것일 겁니다; 부수효과가 명확한 <code class=\"language-text\">arrayRemove</code> 처럼요.</li>\n</ul>\n<p>여기에 의구심이 든다면, 당신이 작성하는 함수에 <a href=\"https://ko.wikipedia.org/wiki/%EB%86%80%EB%9E%8C_%EC%B5%9C%EC%86%8C%ED%99%94_%EC%9B%90%EC%B9%99\">놀람 최소화 원칙(Principle of Least Astonishment)</a>를 따르세요.</p>\n<h1>상태 사용에 보수적이 되세요</h1>\n<p>순수함수는 외부 상태에 의존하지 않습니다. 이는 변수나 데이터가 함수의 내부나 외부에서 바뀌고, 이를 함수가 의존한다면 그 함수는 순수하지 않다는 뜻입니다.</p>\n<p>현실에서, 코드에 어떤 종류든 상태를 사용하는 것은 피할 수 없습니다. 그렇긴해도 최소한 그 상태가 스테이트풀이 되어야 할지 신중히 고려할 수는 있습니다.</p>\n<ul>\n<li>필요한 데이터가 다른 입력이나 가지고있는 기존 상태를 기반으로 파생되어야 하나요? 만일 그렇다면, 상태로 저장하지 않는 것이 제일 좋습니다.</li>\n<li>데이터가 한번쓰이고 버려지는 데이터인가요? 만일 그렇다면, 그 데이터의 유용성보다 오래 지속될 상태나 스코프 안에 지속되게 하지 마세요.</li>\n<li>나중에 필요한 데이터, 혹은 앱의 생명주기(lifecycle) 내에서 점진적인 변경이 일어날 것이라 예상되는 데이터인가요? 드디어 당신은 데이터를 상태 안에 저장할 수 있는 좋은 이유가 있습니다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/055056b0fa4bf0b19f78d0d1ee3fbb04/0940f/functional-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVQY013RSU/CQBiAYX6CCfGitIAR09J2KJSCZdpCy9JSqSicWDwIYgJFExcuxhgvcoKT/kttSYQjBEeIS5k8mczlzUy+8SyXy8/pbPg8fBjc9AeDrnXr0vtj9e/PW9Zo/IqS+Xy+WCw86PRuO0ZaFzlqn43gfgoP0nhgJfizrwT2gHc7eFptrmO0vmPbmWhaBRCQ5UUWSlEoxyQZRFI8r1B0kgwn1mgg+INMvXnhjm2nqFXjNExyGcCnWEkEAowkICuIDCfQ8UMmKQAeMkDw4eFao715cy5/QhEJgVOVXEkrV1T9WNVMxSjLBVPWTdUop7OGJOuhg2it3nLFjjPJ5sshggNRCCVNlo2MciSKhbio84rJZ0qckOdiaUUtsVGxcdZxxR+2I6WLPpxEI9nFSGQH7TiJ4aQPQwj0WsyPUFte/+bAptPZ49NL5/K6Z93913Wzrgatdn80fvv9qi+lctWP+YtxvwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"logUserIn\"\n        title=\"\"\n        src=\"/static/055056b0fa4bf0b19f78d0d1ee3fbb04/fcda8/functional-2.png\"\n        srcset=\"/static/055056b0fa4bf0b19f78d0d1ee3fbb04/12f09/functional-2.png 148w,\n/static/055056b0fa4bf0b19f78d0d1ee3fbb04/e4a3f/functional-2.png 295w,\n/static/055056b0fa4bf0b19f78d0d1ee3fbb04/fcda8/functional-2.png 590w,\n/static/055056b0fa4bf0b19f78d0d1ee3fbb04/efc66/functional-2.png 885w,\n/static/055056b0fa4bf0b19f78d0d1ee3fbb04/0940f/functional-2.png 1154w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1>범위를 유리하게 사용하세요</h1>\n<p>일단 당신이 실제로 상태가 <em>필요하다고</em> 정했다고해도, 아직 모든 계산이 끝난게 아닙니다. 어떤 상태는 함수 호출 기간보다 더 오래 존재해야하지만, 그래도 여전히 그 상태가 얼마나 오래 존재해야 하는지는 신중히 고려해야합니다.</p>\n<p>다양한 범위를 활용해서 상태를 필요한 만큼만 유지할 수 있도록 할 수 있습니다:</p>\n<ul>\n<li>현재 로직에만 필요하다면, <code class=\"language-text\">const</code> 나 <code class=\"language-text\">let</code>을 사용해서 현재의 블록 스코프에 저장하세요.</li>\n<li>함수가 호출되는 전체 기간 동안 필요하다면, 함수 내부의 맨 위쪽단에 <code class=\"language-text\">const</code> 나 <code class=\"language-text\">let</code> 변수로 선언해서 그 안에 저장하세요.</li>\n<li>만약 더 오래 존재해야 한다면 - 비동기 함수 호출이 끝날때까지 - 클로저 스코프 안에 저장하세요.</li>\n<li>리액트를 사용한다면 상태를 실제로 필요한 컴포넌트에 최대한 가깝게 두고, 컴포넌트 체인에 너무 높게 끌어올리지(hoist) 마세요.</li>\n<li>여러 함수 호출에 걸쳐 뭔가 추적해야 할 경우 부모 함수의 스코프 안에 유지하거나, 혹은 모듈 스코프에 저장할 수도 있습니다.</li>\n<li>상태가 여러 페이지에 걸쳐 유지되야한다면 임시로 서버 스토어나(세션처럼) 로컬스토리지에 저장 합니다.</li>\n<li>아주 장시간 동안 존재해아 한다면 데이터베이스나 파일시스템 안에 저장하세요.</li>\n</ul>\n<p>상태가 꼭 필요한 만큼만 유지되도록 범위를 선택하도록 노력하세요.</p>\n<h1>상태를 캡슐화 하세요</h1>\n<p>꽤 자주 스테이트풀한 데이터는 캡슐화될 수 있습니다.</p>\n<p>예를 들어, 돌리기 위해 고비용을 치뤄야하는 함수가 있다면 - cpu 사이클이 많이 걸리거나, 비동기적으로 데이터를 가져와서 반환하는데 상당한 시간을 쓴다던지 - 몇개의 선택지가 있습니다:</p>\n<ul>\n<li>수동으로 상태 변수를 생성해서 결과를 저장하고, 변수가 채워지지 않은 경우에만 함수를 재호출 하기.</li>\n<li>아니면, 재사용가능한 <code class=\"language-text\">memoize</code> 함수 안에 상태를 추상화할 수 있습니다:</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c6248ed7773a586003f6eec8db256673/51800/functional-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVQoz4WT2W7UMBSGeYCql2U6bacLM1ntbI7tJHYSJ7OUlkUqr0O5oJ3unVIG0Q4S4kHgokJUKuKlypkFphQhpC9HR06+xPltP7i9vf169e3i/Kw/uDg5fXfSA/rDetqf0OtPRkb03rzf6Z7cfP8B4gO4uq+PgvojI/SXVlFt2QaWVuwa9COWV1DtDmt1b2Z24W1/MJEPj8/NNZrL9ajdoqpgouBlk5UlSTOS5TRSJMgdTyAnBlxfVheNy8Gnibx30Jtf0CJSODi2aYSCyHWFbUWaTjSD1DVfN4luDGnogY35w/nGxeXHu7LOicrCVujnfplRpViq3Eh4rkhkB5MckdwJc8ZLn6RzlfpU3h/JFo48nHi+dEOJiEBMIiqxnxJWQHVDFcZNHjUJVXPzf8nYiW3EZdwpxabINrL2i6y9lTSfZ+Wz9cdbRflUpB0wgzCrVBv3ZA27iYWYboSmQS2bjbERs3EEWIhrRgARQP/HP4+/DKM8UBErgyz3WAozVM0nab4RJ22okHYs2kGY/0vmEW9KsZ6knUR0oriVqU3GCj9Ihew4XmLa3LQZrNb9tGHp4N0eEgEWkCflhW6GdX04T2hghaAChkXvyweHZ7ClsJMMb5v093N30c1JA/L9pVpcNCFtCzMLc8thJmbmuCIGUY0DM2wKQK6VqjaVD4/O7TqNZQs2I8lVqFQgM5Lmgcw9PkwuLzYhLUjRpZLzcnUVDz782p47u8eVBW2t4dXGB2NlxPK0XxqPTA6GOzNbnR6Mz1+utl91YfLdvdP/sn9w9nJ79/r6BsSfPDRKI2VrCpEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"memoize\"\n        title=\"\"\n        src=\"/static/c6248ed7773a586003f6eec8db256673/fcda8/functional-3.png\"\n        srcset=\"/static/c6248ed7773a586003f6eec8db256673/12f09/functional-3.png 148w,\n/static/c6248ed7773a586003f6eec8db256673/e4a3f/functional-3.png 295w,\n/static/c6248ed7773a586003f6eec8db256673/fcda8/functional-3.png 590w,\n/static/c6248ed7773a586003f6eec8db256673/efc66/functional-3.png 885w,\n/static/c6248ed7773a586003f6eec8db256673/c83ae/functional-3.png 1180w,\n/static/c6248ed7773a586003f6eec8db256673/51800/functional-3.png 1196w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><code class=\"language-text\">memoize</code>는 스테이트풀한 함수입니다. - 우리는 반환된 메모이제이션된 함수가 존재할 동안 <code class=\"language-text\">results</code> 배열을 클로저 스코프 안에 저장합니다. 하지만 이렇게 함으로서, 단일 공간에 상태를 캡슐화하고, 메모이제이션하려는 다른 함수들이 자체 상태를 유지할 필요가 없도록 하며, 매번 잠재적인 새로운 버그를 발생시키는 것에 대해 걱정할 필요가 없게합니다.</p>\n<p>상태의 특징은: <em>모든 코드</em> 는 궁극적으로 특정 레벨에서는 스테이트풀하다는 것입니다. 순수함수적인 코드라도 부수효과와 상태가 있습니다; 메모리는 여전히 수정 중이고, 명령이 cpu로 전송되고 있으며, 컴퓨터의 온도는 상승중입니다.</p>\n<p>중요한 것은: 이런 부수효과들과 상태가 상태와 관련된 버그가 발생하지 않을 정도로 충분히 잘 캡슐화되어 있냐는 것입니다. 스테이트풀한 로직에서 과하지않고 적합한 수준의 추상화를 찾는 것이 중요합니다.</p>\n<h1>예외에 너무 많은 걱정을 하지마세요</h1>\n<p>엄격하게 따지면 예외는 일반적으로 “함수형스럽지 않다”고 간주됩니다. 예외를 던지는 것은 올바르게 다루지 않을 경우 프로그램을 부술 수도 있는 부수효과를 낳습니다.</p>\n<p>하지만 실제로는, 저는 예외를 또다른 반환 값의 종류로 간주합니다. 다음 코드를 봐주세요:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6963054232132e60a313cd489ae5f904/69476/functional-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 85.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChklEQVQ4y32SW0/UUBDH9yNoIAjItrsre2lPT2+nPafb03u7LhdRHwwuPomXGC8vXJ5UEk0MYCIafYEE14B+AiXhM5D4pZylmwUBTX45mUz678z8ZwoHB4eP7iwsLz1ZePxwfn7x7sLifGfA/Qvp3Hswd7vz+ct2YWe7i8dLUURKuioISBCVY5BQUsTyxVQm1eGRyvMXq4Xd7n5JNKjRcnCkU64HvukGZhAa1Fc1V0J0gKywHEVtihW8svqqsPt1TyzKrpV4dpp5M1PxjTCaTmdueiyzrCBrZ1k7tVlA7EBCNsIMYYpBXFaWll+CeH9krKrqvIFs14i5npiGz/SQ26nDs6abOa6ftFIvCHtBlrheoJt+XbL64itjVYP4kkJrEqnLdl22GvBK1mkgMwA6L5ZQXzw6XjM0j5sJMyP4KzFbmu43ecsiIXNSx80U1TmtPxF3u98nRFnCTFEcJDNJorLsgD1Yc3NvIIBRQQPJ85X3KgJmJNYxVwxHdbhKXdXiMmL1Rq/haoNU6yYEtQbJ6//VdllQfLvVojOOk1hZbMexFcY0SrDtaionVuiH06yZcr9tkADE6LR4eHQSa01T8xBiEqYAeCabTFZ7s2gGt1msGR6xQxjhbGVwW9c4Mfw0nnNZZpq+anCs9mbOrf5f2/1VIWppPtVDXedQBDJQE77Oz+tfhsGRTEJX4FAt3+rxkhvyyW4GsnOr+vYDVgUrTdiUT1s2jV02S0gcwJFev2Xbkee1o3jWtALQIOwAMHn5mrqy+rqwvdO9NCTCrV4tSsCEIOVBH6GfLIoyvDliGV0eEp4+Wy4cHf1eW3u3+f7T+sZWj/WtfnCWD4N4Y/Pjm7cbP38d/gGMEf52cYOp6AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"code-with-no-exception\"\n        title=\"\"\n        src=\"/static/6963054232132e60a313cd489ae5f904/fcda8/functional-4.png\"\n        srcset=\"/static/6963054232132e60a313cd489ae5f904/12f09/functional-4.png 148w,\n/static/6963054232132e60a313cd489ae5f904/e4a3f/functional-4.png 295w,\n/static/6963054232132e60a313cd489ae5f904/fcda8/functional-4.png 590w,\n/static/6963054232132e60a313cd489ae5f904/efc66/functional-4.png 885w,\n/static/6963054232132e60a313cd489ae5f904/69476/functional-4.png 926w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>이 두개의 함수는 모두 순수 함수입니다. 이 함수들은 전달된 입력에 기반한 값만 반환하고, 절대 어느 예외도 던지지 않습니다.</p>\n<p>여기 예외를 사용한 동일한 코드가 있습니다:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7fcdbc2abf767e3c9fb0555d28af2780/a1dd2/functional-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZElEQVQoz3WSTU/bQBCG/ReqHqqKJCbg2F7b66/12t61HcdfCQlQoFUPVW80VFRAKFURd279A5wqVW0hCDhy6K099I91EiJAiEqPVqPRvjvzzqzw+8/fnc3to08ftw/23w13Z2zNgs3HGL4fvXk7PDn5Knz7Pmai8iJ3tdyuiXq9MeUmELXGvH6fSV7U5xfMJ0/F4dZIGJ9fSZLr2h3biC0rMgjDNLK8CBNmk8Qwmar5SPc1IwB0HBhmaNpcbOLR/pFwenaBWqQTdDPajYMyKqsoL+NqiXUrRnMTM+JzGsQg0wwmq3RBcuG5uTra3TsUzsZXc6IGrxpGGHnFGt/ISa/ky2W2mrUHISuWBtXL14NOkadZkaRZmnf8MG0uWjt7nyfiekMz7ciwGELUNjlUM/XQNLnjJZYdYSt0KXfAhRu6HqNh5HjxnbgmagZmGDOk+apGkU7VCb6iegqaIKt3tBQP6UGtMWv7EtwbOIxIkZCSep2sXLGtKEn7PO6CEp57APivNbRdqHx6dikprmb46s09RKE+1IQYkjDnG/4rbi3a1EktzLER6iTEhJsexy4HjSQ7skok2ZVV71HxhSqRNq2qoF8EfVKmfLVig9IL0knnUTdgRZT0HJLcWrgTj2FVDaToMOfIMriGAyiOsK8j32dFEBY0yEJe2m78uHi+iU2Lx14Rk4I47U62kmbLlslDVsbtnoIIdD7dwsw/fDL4pHujQ+HHz/PmAlZUIsuuIoM9R9E8YLE1cQs7g2CKfQvknz1vbX84EK6vf4G3Xv9V2Vsvu+vV9LwXrFW9jQfAZZjC8fGXf/Hd2+LPiGmuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"code-with-exception\"\n        title=\"\"\n        src=\"/static/7fcdbc2abf767e3c9fb0555d28af2780/fcda8/functional-5.png\"\n        srcset=\"/static/7fcdbc2abf767e3c9fb0555d28af2780/12f09/functional-5.png 148w,\n/static/7fcdbc2abf767e3c9fb0555d28af2780/e4a3f/functional-5.png 295w,\n/static/7fcdbc2abf767e3c9fb0555d28af2780/fcda8/functional-5.png 590w,\n/static/7fcdbc2abf767e3c9fb0555d28af2780/a1dd2/functional-5.png 838w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>이 코드는 정확하게 같은 목적을 달성합니다; 모든 에러 전파가 암시적이고, 자바스크립트 엔진에 의해서 다뤄진다는 것을 빼고요.</p>\n<p>네, 현실에서 두번째 코드 스니펫은 예외가 처리되지 않으면 내 프로그램을 부숴버릴지도 모릅니다. 그렇지만 프로그램 시작점에 단일 try/catch문 하나만 추가해서 잡히지 않은 예외를 처리하게 하면 쉽게 해결됩니다.</p>\n<p>첫번째 코드 스니펫은 좀 더 명시적입니다; 그러나 훨씬 더 장황하고, 프로그래머가 발생시키는 오류를 만들 여지가 많습니다. 각각의 호출 시점에서 오류를 처리할 것인지, 호출자에게 에러를 전파할 것인지 수동으로 결정해야합니다; 현실에서는 대부분의 경우 전파하고 싶습니다.</p>\n<p>제 취향은: 예외를 함수 호출의 예상 결과로 간주하고, 이 예외가 자동으로 콜 스택으로 전파될 것이라는 사실을 설명하는 겁니다. 저한텐 이 정도면 충분히 함수형-스럽습니다.</p>\n<h1>콜백을 통해 프로미스나 async/await를 사용하세요</h1>\n<p>아직 읽어보시지 않으셨다면, <a href=\"https://blog.jcoglan.com/2013/03/30/callbacks-are-imperative-promises-are-functional-nodes-biggest-missed-opportunity/\">Callbacks are imperative, promises are functional.</a> 라는 훌륭한 글을 읽어보기를 추천드립니다.</p>\n<p>프로미스(와 async/await)를 사용하면 비동기 데이터를 피할 수 없는 작업이 아닌 값으로 다룰 수 있게 해줍니다. 이러한 값들은 다른 비동기 값들과 맵핑되고 합칠 수 있습니다. 그 예로:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5075f7fd23a3ce18f40bd224639d58b6/2cefc/functional-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQoz32R+W7bMAzG/R7DMORw4lu2JEo+ZEt2fNSJ2zQD2j3a0mZH9+fWYtgjjl2HAMWAAT8QlKgPFPlZ1+MBGDihcCJAXCIcAquArUOOib1m82W8sBN7Tc+sHPZuHg7je6sdDuDrUvW8N2oz6Iut7kbTTaJseKYpqxhoyivXF2e8QC5XyW66tTb9VeAKxipSFHGuIpkniVJqkEVPpebCgKgTVjoenEH9wo63uxtr0+09TwiqATQUDcmaJO0g7wEwMSTvAqrtVbJ2ueMCxrXHX4tdgd0CnkW8iKAIWOaTlHEtZE15SaEivPJpigQk9QP5Suz7UlDDJXauRVGzzJC0gbyrzKZQpihNDKVHpEeEH0nXE44P8yUZ/4pdmbAqSlUsFc0rKksAA2kT8z8zyzrL2jhRHAwXNcgGVxiSfLq8tdp+b9sJfkxmbZ63uOd+PKhyaNt9O1xj1TQ7rccwzoMoQw1GBN3aTjdWd3HAhQE3jGnOn3crZIODISHJ/DBFY16ihz4Fz1bhEa2aLj9Yppnms8hZcZwEa14o8d1sQWaL6B/Iyz0O/Oat23ZX1vcfPz8eP9+dHo73X493yBdM7k8P/+H06RtKHp9+/QbZkKJCTp6xEgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"canUserAccessPage\"\n        title=\"\"\n        src=\"/static/5075f7fd23a3ce18f40bd224639d58b6/fcda8/functional-6.png\"\n        srcset=\"/static/5075f7fd23a3ce18f40bd224639d58b6/12f09/functional-6.png 148w,\n/static/5075f7fd23a3ce18f40bd224639d58b6/e4a3f/functional-6.png 295w,\n/static/5075f7fd23a3ce18f40bd224639d58b6/fcda8/functional-6.png 590w,\n/static/5075f7fd23a3ce18f40bd224639d58b6/efc66/functional-6.png 885w,\n/static/5075f7fd23a3ce18f40bd224639d58b6/c83ae/functional-6.png 1180w,\n/static/5075f7fd23a3ce18f40bd224639d58b6/2cefc/functional-6.png 1400w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>각 단계에서, 비동기 값을 가져와서 다른 비동기 값과 맵핑합니다. 데이터가 <em>언제</em> 이용가능해지는지는 특별히 신경쓰지 않습니다; 그저 값들이 어떻게 맵핑되는지만 신경씁니다.</p>\n<p>콜백에서는 값보다는, “이 작업이 완료되면, 부수효과를 수행하라”에 더 중점을 둡니다. 그렇기에 저는 콜백이 특히 함수형스럽지 않다고 주장합니다.</p>\n<p>반면에 프로미스는 캐싱될 수 있고, 메모라이즈 될 수도 있으며, 값으로써 다른 함수에 전달될 수 있고, 자바스크립트에서 다른 값들처럼 사용할 수 있습니다. (사용하기전에 랩핑을 풀어야한다는 주의사항이 있지만요)</p>\n<p>네, 프로미스는 스테이트풀합니다. 결의되지 않거나(unresolved), 결의됐거나(resolved), 거부된(rejected) 상태를 가질 수 있습니다. 그렇지만 <code class=\"language-text\">memoize</code> 예제에서처럼, 나머지 코드들이 함수형스러울 수 있을 정도로 충분히 캡슐화되어있습니다.</p>\n<h1>목적에 맞다면 클래스를 사용하세요</h1>\n<p>클래스와 객체지향 프로그래밍(OOP)은 함수형 프로그래밍의 정반대가 아닙니다.</p>\n<p>우선 클래스는 특별히 스테이트풀할 필요가 없습니다:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/becff37570073863022ed07afe227116/1c1a4/functional-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVQoz22RW2vbMBiG/TvKYjt265NkS7ZkWz4msWvXduIeWMbIYFvX0NKmo1B2uNzFLga73G72d6c0JoNRePh4edEjCUn48f3n9fLi9XrV9K/adtl2y3Y+0Oxzx/PLPbw5rs8vrzbC7c2DqwPbJ8qRo6pIUR1FxYqCxgpSDrGiPgUVqUd4z6HmSmM4mXXC5v6zrcdp1oWLlmYVphPoRYglKEoBYk4YoyhxvATazILhDmAzzSDVyblwe/fIt4EkD1gVRQ1JG1q0Qbvw8xlLj4t5X/a9SzPuGJa/wwQBP7yszrayrNiWHRA7ybzSjeugXpJsQVBelP3p6SqOa92ke/N/WRrbjpvqlq+ZlK/TDaKZZAi6pxmevuutp2kS7v+TRRniuKZpG03PolkfxjPsJMCOAIptkm8nCh0ngjCynBh6GcQJ32Irb+4/8Qd0aY5RkpCSuFnAcubNCJ3isKCTOQ6KgKXMnwbe1GUlzTsSVw5mdXMhrK8/HowM7osyGMmA32IkQ3EAiBIQhxIMpWRJMjx4YSTZifDr95/VmzX/8fcf7i6f45n+avP23c2Xr9/+Aj7LjZwva1HoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"name\"\n        title=\"\"\n        src=\"/static/becff37570073863022ed07afe227116/fcda8/functional-7.png\"\n        srcset=\"/static/becff37570073863022ed07afe227116/12f09/functional-7.png 148w,\n/static/becff37570073863022ed07afe227116/e4a3f/functional-7.png 295w,\n/static/becff37570073863022ed07afe227116/fcda8/functional-7.png 590w,\n/static/becff37570073863022ed07afe227116/efc66/functional-7.png 885w,\n/static/becff37570073863022ed07afe227116/1c1a4/functional-7.png 1046w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>이 클래스는 일반적인 자바스크립트 객체보다 스테이트풀하지 않습니다. 유일한 목적은 적합한 방법으로 어떤 데이터를 함께 묶어두려는 것 뿐입니다. 상태는 시간이 지나도 변하지 않습니다; 이것이 함수형스러운 클래스를 만듭니다.</p>\n<p>물론 클래스는 시간이 지나면서 변하는 상태를 저장하기 위해 사용할 수 있습니다. 그러나 그것 자체로는 다른 스테이트풀한 패턴들에 비해 덜 함수형스럽습니다.</p>\n<p>그 예시로 아래 코드를 보세요:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/55c7934a256eb78c7d0448ea1f21f1d0/3f3b9/functional-8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 92.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVklEQVQ4y41U0W7TMBTdRyCkbR0Sa5fEceLYsd0kduq0XdtsKwMk/gVNgwkBEuKFP0FsCBA88BFMHXtHWtu9jb2Mh3UrN5s0CdGtk04sXyUn91zfezxzdnY2Go3Oz89PTv58/fb9/YdP2ztfdgAfJ2B75/PR0e/xeAwUIM7Ac3p6CvGv/qAts8fCi/NgHrmzs/ZcyZkrXa4F5hfQnbvl3d09+BgoV+QRxIPhYcOshERSGbskcnHV9QqgYhMBsB9XLNbb259EHgxVmsdBMwmXqcl4uwFrKAyQHSxtJGCzWKG93v7kzCrt2DZnUUs21+N6t9pYF7VVZVYI1dhLbiIPh4eJ7pQt5gcJxrFmTRnWWbpCVYeSVMoWKF+sBNfIhsy6DVUFVNtOWLHoksWW7NByQtsVNuLTZVeWqC/qTOdh1uW1VRamhCoo2HYlwvJGsu5AZhwowmpZspYkebX+oPiFrwVv+IG+X54mm4ap7XCMpIskIgoROIIIe/HUmovMPksx1Q5VLlUYVwEg20LcmSL7ouYgaYnammk90c1H1TTnqg0DQwKN/eQ2p60QEsJPGdEkWvZFw/fikGUeUdNr9kkMOosmIQ59umiVtBzuuLeQDVMhGg+F6ap6VwhDaQpk148BhezrJ6xdhj6z1Au0ifIsyiU1hrdYmDHT5TovjNH7OdkYpr4KY8SFKSwF5+xdGqvwEyaJR5KKHf5fc+Hng4M+46Z0D11ad27BAcxfrAVKDrwCP//Y7f1DhmsB4uPj4zdv3z3dePFs6/Xm81cTsbH5st8fXN0kfwE3xlWkgaug7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"counter-class\"\n        title=\"\"\n        src=\"/static/55c7934a256eb78c7d0448ea1f21f1d0/fcda8/functional-8.png\"\n        srcset=\"/static/55c7934a256eb78c7d0448ea1f21f1d0/12f09/functional-8.png 148w,\n/static/55c7934a256eb78c7d0448ea1f21f1d0/e4a3f/functional-8.png 295w,\n/static/55c7934a256eb78c7d0448ea1f21f1d0/fcda8/functional-8.png 590w,\n/static/55c7934a256eb78c7d0448ea1f21f1d0/3f3b9/functional-8.png 870w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>위 코드는 아래와 기능적으로 동일합니다:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0aef72cd01b1aaad480d24f1725ee5ce/42d54/functional-9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACH0lEQVQ4y5WTy2/TMBzHd0EIcUKqoOuDjlZrEjsPN46TNI8m2fqia7cKpE0TJwTigtYNDjwFEtAdgBscRrcJ9gfQw+478C8hNRz6xO04oLKuxfraki1/9Pva/nquN2r9Xq/dbn9vHu/tHR4cHjX2v41p/+Do0+fGycmPwWDQ6XROqTnau90uXfrZ8qu51YrAWEUpBEHw2mIwnAyG/igc5S5dDt5/sEV30jLjsO//qlY3Aacg2YCiDnltOEo6HXkxLSIjGgM7j55Ngv21tU3C2y4puDiPMxmttKQ4rm7kMHEAr4UibG3n6cTK5dWNWFzAko2RLVqmZJqSYCrKMgdVKOjT4YW4KImGhhwEDZ7Xk6xMxXDkP2Bd9nSzSJySbJeImUeyJSJzPsxsnwdXNm4kRBaqSaCwgq7o2ezN27ZdJMghZDkcZWvb02AOEFEysOYBMc0jE0oGPTOtPM32KQxVTtCRmVfdcmZl3Voqq4orY2c+MoPt0d1qkNYX04aRRSkLAg0rHs3JTLZ5ydC8ipTOCdpSijgIWywgoQgzm20aL5whatazyhbJmXYhW6gmFlNbtScT4ZXK+kJcoE8qSGlB1BkGQ6ACMDxFCmci18E5tv3qrTtJFhPVo2GmoqkGgg5HotNhth8/PxtutXzHLV0JxAJX4/8oQT/WhYuBu/cengH3+3269KXx9dXren33w9t378dU3/344uWbZvP47//8GwiKL8KFsYd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"counter-function\"\n        title=\"\"\n        src=\"/static/0aef72cd01b1aaad480d24f1725ee5ce/fcda8/functional-9.png\"\n        srcset=\"/static/0aef72cd01b1aaad480d24f1725ee5ce/12f09/functional-9.png 148w,\n/static/0aef72cd01b1aaad480d24f1725ee5ce/e4a3f/functional-9.png 295w,\n/static/0aef72cd01b1aaad480d24f1725ee5ce/fcda8/functional-9.png 590w,\n/static/0aef72cd01b1aaad480d24f1725ee5ce/42d54/functional-9.png 858w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>이 두 예제에서 중요한 점은 - 그리고 이 코드들을 함수형-스럽게 만드는 점은:</p>\n<ul>\n<li>상태를 어떻게 잘 캡슐화하는가.</li>\n<li>상태를 얼마나 길게 유지했는가.</li>\n<li>코드에 부수효과가 얼마나 있는가.</li>\n</ul>\n<p>두 예제는 이러한 점에서 완전히 동일합니다. (특히 상태를 숨기는 프라이빗 필드를 도입한다면 더욱.)</p>\n<h1>타입을 사용하세요</h1>\n<p>이 부분은 논란의 여지가 있을 수도, 없을 수도 있습니다. 그러나 저는 자바스크립트나 함수형-스러운 코드를 작성할땐 <a href=\"https://flow.org/\">Flow</a>나 <a href=\"https://www.typescriptlang.org/\">Typescript</a>를 사용하길 추천합니다.</p>\n<p>매개 변수 및 반환 유형에 대해 선언된 인터페이스와 함께, 명확하고 자체 문서화된 함수를 사용하면 보다 함수형-스러운 사고방식으로 생각할 수 있으며, 입력 매개 변수와 출력 값 사이에 명확한 관계를 가진 함수를 작성할 수 있습니다.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4cb913d4b2209c0cd6afb3b26c309674/35a31/functional-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVQoz42RS2/TQBSF/ScQlDRN7bw8fowf8Wtm/Bo7sZMAVQqIkiIhtUiwQEkcHm1gwQpWLLpji4T4odwpEssW65N1Nb5nzr3H0q+fvz+smt2Xz6vmYrX+L9aby9dvmqurH9L27XvSVbzCbcnaQUc/ODQ68i3IXXznbnfx+FRab3eaFTM2Y0ntOAm2GdJ9zQhvwMAE9MsXr6R1c6koJquOA/4wDHk5OSJsomr+DYAe/J8vz6Xm3ae9/aHNat1JgoCX4yMwH6qeikTfQB39FQyR9w+kB7CdEG+2O1nGWA815KnY62suMnwNh8gMND20nBh8QAyjmphii5oWhbojmydC3OyQ4mb0QURrb1zSqg6zMppwP00jwqfzBUsqiKMYP8ryWcxqyiaum8LOJ8szab25uNcaGKPUispxDc88TnmaZ7yA/Yu8yAgrRj4HQwiyN3CBIQrah4ZwBvH9fVWHsXUv47kQlDyIYsJSyyGuR7EN8QYGDk0rAiwnckZU6WGxM6TdaiPdhFOCHULjNCQJfE7yfOSzkMQRS1maBVEC13lBDA1pxpHuLk+F88dWe3CdqkDu2oDSF+9uz1F6NiDqvn1dixOYfK81fPrspfT123caV9P5k3G1mNSLanp8K9Cc5DP4x38ABOOtB5tfzlcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"getUser\"\n        title=\"\"\n        src=\"/static/4cb913d4b2209c0cd6afb3b26c309674/fcda8/functional-10.png\"\n        srcset=\"/static/4cb913d4b2209c0cd6afb3b26c309674/12f09/functional-10.png 148w,\n/static/4cb913d4b2209c0cd6afb3b26c309674/e4a3f/functional-10.png 295w,\n/static/4cb913d4b2209c0cd6afb3b26c309674/fcda8/functional-10.png 590w,\n/static/4cb913d4b2209c0cd6afb3b26c309674/efc66/functional-10.png 885w,\n/static/4cb913d4b2209c0cd6afb3b26c309674/35a31/functional-10.png 1028w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>게다가 정적 타입 시스템을 사용하면 어떤 상태라도 엄격한 타입을 가질 것이고, 이는 공용 상태를 공유하고 있을 경우 코드 조각이 예기치않게 다른 조각을 깨뜨릴 기회가 줄어들게 된다는 뜻입니다.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/420b33dcc1717f14840215880665a9dc/252a4/functional-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVQoz42R2W7UMBiF8wJF3LXMksyaPXacOIvjONtM2g4VSNwhLlAlSoEiijSdCKFO73gTimYRU54BJEC8FU656k2p9Ono+MjHv2wL09MP6kBWgC11AafTA93+f+gP7e0Hg+eHr4VZdWEohJSP4mwcswLYkWGFt2PBqNuHx6/eC2ezc3EAEd1FdgIhUXVP0T31VnQzEDvm0ct3QlVdyD0bAWo4oelHEFN+9l3LZ7O5KrsJm+B014kYK3ISJV4Ya4Z/h3J13pJ0Pk3RsKK4qoZlFXMvK26d1Hic+jrXXtVuTm6Luo0oDnILZwhFlGWEpgFJ+SYT+CYIDMvTDN7xTejr3OteW9Lr8nQ2l3rAQtQA9WtBSPcmT7LiYFw+juKSspyl41E5SfKHlJWM5MVo3w9HQwUfHZ8KH+efDCcl2QFJ9pGXYz+hrKBs5IcpoXuOm0IUu16G/Qw5/DtinnhBrur+m5OpcPK22rrXVDTXBFFngNui1unrnLakDWXcFLXtxnCnIf/TnabMtdFSt+63nj57Ifz6/efz5Wq1/rZcbhbLrwuui2vq5Wa5uroJTzar9dXll/X3Hz//AmSopXYMe0dHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"updateAge\"\n        title=\"\"\n        src=\"/static/420b33dcc1717f14840215880665a9dc/fcda8/functional-11.png\"\n        srcset=\"/static/420b33dcc1717f14840215880665a9dc/12f09/functional-11.png 148w,\n/static/420b33dcc1717f14840215880665a9dc/e4a3f/functional-11.png 295w,\n/static/420b33dcc1717f14840215880665a9dc/fcda8/functional-11.png 590w,\n/static/420b33dcc1717f14840215880665a9dc/efc66/functional-11.png 885w,\n/static/420b33dcc1717f14840215880665a9dc/c83ae/functional-11.png 1180w,\n/static/420b33dcc1717f14840215880665a9dc/252a4/functional-11.png 1314w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1>가능하면 변경 불가능하게 행동하세요</h1>\n<p>가능하면 데이터나 상태를 변경 불가능한 방법으로 업데이트 하세요:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e7942f5d2251e76eb803589106483a3d/3534c/functional-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByElEQVQoz4WRy07bUBCGeYWqgjilYGI7ju/HcY5vOCZ1YmOsFCm07HgZQCJ0Qfftpm+QRRIrSQtE0B0Se8QrlCdwlQvjRoqE1ITRnF9zpPn0z5mzMp1OJ5MJ6J+np97lsPfr9vLnzfD693D4Iq+ubu7u7med81iBMxqNQFvteIeWjnzD2MdbAtokZZKSyZwEuUXJ2XXWrURJ8ndu9gLuxAMljyq2Xdy2OFHneJ0TdF40IAXJpPNqEDaSJFkAd/t5RjOLNVm3VddRiraKypxosBwWJINikL/bWOjcjfs0jYrIKVUjM2oA7Ad+1a8ZlgPmAAdL4QGZk2HgIDp0vbpe2tUNT1FNSTFn8DLnTqcHTUgri7IlpE81C7wOMxd4/Drc7fYpGqmaCxgvptsCDHS2tlfgdqcHW43qh852YGLPtGtwBX7mnFsOx/FggxQ4ASu6Z5XDcO8gjD4hzZVKFUm2WBYH4cHCrwI4JVUHf/ioWjWMK161brkh9vY1bUcS7b3o80K41WqvrlHvN4UMQRPZPPGOXSWYNYLJZJjseuHNW9Kwqv+Bx+Mx6MPD4/HJebN5cXb+9ax5AUUzLdKE4uT0y7fvP0b/OufxDGq+wy0kMwnbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"immutable\"\n        title=\"\"\n        src=\"/static/e7942f5d2251e76eb803589106483a3d/fcda8/functional-12.png\"\n        srcset=\"/static/e7942f5d2251e76eb803589106483a3d/12f09/functional-12.png 148w,\n/static/e7942f5d2251e76eb803589106483a3d/e4a3f/functional-12.png 295w,\n/static/e7942f5d2251e76eb803589106483a3d/fcda8/functional-12.png 590w,\n/static/e7942f5d2251e76eb803589106483a3d/3534c/functional-12.png 808w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>이 패턴은 동일한 데이터를 사용하는 다른 코드나 함수에게 실수로 영향을 끼치지 않을 것이라고 강력하게 보장합니다. 변경 가능한(mutable) 객체를 인자로 전달했을 때 더더욱 그렇습니다; (‘예측 가능하게 하라’ 원칙으로 돌아가게 하는 )함수의 명확한 목적이 아닌이상, 호출자가 넘겨준 객체들이 바뀔거라 기대하지는 않았을 것 같습니다.</p>\n<p>즉, 때때로 변경 불가능하다는 것은 데이터나 상태를 전파하기 위해 더 많은 후프를 통과해야한다는 것을 의미합니다. 가끔은 객체나 배열 혹은 다른 데이터 구조가 변경 가능하도록 명시해도 괜찮아요. 그런 경우엔 일관적이고, 명확하고, 예측가능하게하며, 객체에 정적 타입을 부여해서 객체가 어떻게 변이되고 변이되지 않을 수 있는지 명확하게 합니다.</p>\n<h1>함수형-스러운 테스트를 작성하세요</h1>\n<p>작성하는 테스트의 종류와 상관없이, 유닛 테스트, 통합테스트, E2E 테스트든 모든 것을, 정말로 모든것을, 함수처럼 다루세요.</p>\n<p>무엇을 테스트 하든 - 함수든, 클래스든, 리액트 컴포넌트든, 웹 앱이든 뭐든지요 - 어떤 입력을 가질 것이고, 어떤 출력을 가질 것이고, 상태를 가질 수도 있을 겁니다.</p>\n<p>당신의 테스트는 테스트하려는 것과 다른 입력에도 이상적으로 통과해야하고, 당신이 기대했던 출력인지 아닌지 테스트해야 합니다. 테스트할 항목의 구현 세부정보를 직접 테스트하지 말고, 상태가 있을 경우 상태를 직접 테스트하지마세요. - 출력과 부작용만 테스트합니다.</p>\n<p>스스로 질문하세요: 테스트 중인 것의 사용자는 누구인가?</p>\n<ul>\n<li>개발자가 통합할 수 있도록 설계됐나요? 그럼 테스트가 그 개발자인 것처럼 행동해야합니다.</li>\n<li>엔드 유저를 위해 설계되었나요? 그럼 (가능한) 테스트가 엔드 유저인 것처럼 행동해야합니다.</li>\n</ul>\n<p>이런 식으로, 함수형-스러운 테스트를 작성해야합니다. 입력과 출력에만 신경쓰고, 나머지엔 신경쓰지 마세요.</p>\n<h1>실용적인 사람이 되세요</h1>\n<p>물론 순수한 함수형 프로그래밍은 더 예측가능하고, 에러가 없으며 테스트 하기 쉬우며 그 외 여러 가지 장점이 있습니다.</p>\n<p>그러나 실제 세상에서 코드를 짜는 한, 함수형-스러운 코드를 짜는 게 좋은 방법이라고 할 수 있습니다. 여러분이 트리거하는 부수효과가 무엇인지, 만드는 상태가 무엇인지, 그 상태가 얼마나 살아있어야 하는지에 대해 끊임없이 고민하고 있다면, 완전히 순수하지 않더라도 질 좋은 코드를 작성할 가능성이 훨씬 높아질 것입니다.</p>\n<p>— Daniel Brain, PayPal Checkout Team</p>","frontmatter":{"title":"Functional-ish JavaScript","date":"December 06, 2021","tags":["javascript","번역","함수형 프로그래밍"]}}},"pageContext":{"slug":"/2021/08-09-functional-ish-javascript/","previous":{"fields":{"slug":"/2021/12-05-try-to-use-msw-on-testing/"},"frontmatter":{"title":"테스트 환경에 MSW 도입"}},"next":{"fields":{"slug":"/2022/06-05-hooks-dependencies-and-stale-closures/"},"frontmatter":{"title":"Hooks, Dependencies and Stale Closures"}}}},"staticQueryHashes":["63159454"]}